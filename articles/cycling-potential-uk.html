<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cycling potential in UK cities • pct</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Cycling potential in UK cities">
<meta property="og:description" content="pct">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pct</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.9.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/pct.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/cycling-potential-uk.html">Cycling potential in UK cities</a>
    </li>
    <li>
      <a href="../articles/km-cycled.html">Estimating distance cycled per zone in England and Wales regions</a>
    </li>
    <li>
      <a href="../articles/pct-international.html">International application of the PCT methods</a>
    </li>
    <li>
      <a href="../articles/uk-cities.html">Reproducing cycling potential estimates in UK cities</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ITSLeeds/pct/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Cycling potential in UK cities</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ITSLeeds/pct/blob/HEAD/vignettes/cycling-potential-uk.Rmd" class="external-link"><code>vignettes/cycling-potential-uk.Rmd</code></a></small>
      <div class="hidden name"><code>cycling-potential-uk.Rmd</code></div>

    </div>

    
    
<p>Note: this vignette is not evaluated to reduce package build times.
See <a href="https://rpubs.com/RobinLovelace/749112" class="external-link uri">https://rpubs.com/RobinLovelace/749112</a> for the results
with the code running.</p>
<p>What modal shift to cycling do you think we could achieve in UK
cities in an ideal scenario? Answers to that question are vital to
support high level ambition for active transport and wider
sustainability policies in settlements worldwide. In UK cities such as
Leeds (where the motivation for this article originated, via Twitter<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>) there is
already a wealth of freely available data on cycling potential, based on
the Propensity to Cycle Tool (<a href="https://www.pct.bike/" class="external-link">PCT</a>)
project, of which this package is a part. This article will briefly
explain how to get cycling potential data for any city in England and
Wales, based on a case study of Leeds.</p>
<div class="section level2">
<h2 id="getting-the-region-of-interest">Getting the region of interest<a class="anchor" aria-label="anchor" href="#getting-the-region-of-interest"></a>
</h2>
<p>The first stage in many projects involving geographic data is to
define the region of interest. In our case we will use the boundary of
the Leeds local authority as the basis of analysis. The PCT is based on
‘PCT regions’ that we can visualise as follows:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://itsleeds.github.io/pct/" class="external-link">pct</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-tmap/tmap" class="external-link">tmap</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_shape.html" class="external-link">tm_shape</a></span><span class="op">(</span><span class="va">pct_regions</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_polygons.html" class="external-link">tm_polygons</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_text.html" class="external-link">tm_text</a></span><span class="op">(</span><span class="st">"region_name"</span>, size <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span></code></pre></div>
<p>We are interested in Leeds in the <code>west-yorkshire</code> area.
Using the <code>pct</code> package we can get zone data from the PCT as
follows (note: this would work by setting
<code>region_of_interest</code> to any of the regions shown in the map
above:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">region_of_interest</span> <span class="op">=</span> <span class="st">"west-yorkshire"</span></span>
<span><span class="va">zones_region</span> <span class="op">=</span> <span class="fu"><a href="../reference/get_pct_zones.html">get_pct_zones</a></span><span class="op">(</span>region <span class="op">=</span> <span class="va">region_of_interest</span><span class="op">)</span></span>
<span><span class="co"># zones_region = get_pct_zones(region = region_of_interest, geography = "lsoa") # for smaller zones</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">zones_region</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">zones_region</span><span class="op">[</span><span class="st">"bicycle"</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p>This shows the number of people who say they cycled to work in the
2011 Census. This may have changed slightly as cycling becomes more
popular in some places, but is a good proxy for current cycling levels.
But there are two big problems with this: the map is of West Yorkshire
not Leeds, and it’s showing current cycling rates, not future
potential.</p>
</div>
<div class="section level2">
<h2 id="getting-cycling-potential-accross-local-authorities">Getting cycling potential accross local authorities<a class="anchor" aria-label="anchor" href="#getting-cycling-potential-accross-local-authorities"></a>
</h2>
<p>We can find out what local authorities there are in the zones as
follows:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">zones_region</span><span class="op">$</span><span class="va">lad_name</span><span class="op">)</span></span></code></pre></div>
<p>We are interested in the zones in Leeds, which we can get as
follows:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">zones</span> <span class="op">=</span> <span class="va">zones_region</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">lad_name</span> <span class="op">==</span> <span class="st">"Leeds"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_shape.html" class="external-link">tm_shape</a></span><span class="op">(</span><span class="va">zones</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_polygons.html" class="external-link">tm_fill</a></span><span class="op">(</span><span class="st">"bicycle"</span>, palette <span class="op">=</span> <span class="st">"RdYlBu"</span><span class="op">)</span> </span></code></pre></div>
<p>Great, this represents the current level of cycling across the region
of interest. What about cycling potential? Based on the modelling work
in the PCT, we have pre-calculated this for a number of scenarios. Let’s
take a look at cycling to work under the Government Target (near
market), Go Dutch and Ebikes scenarios for cycling to work:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">scenarios_of_interest</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"govnearmkt_slc"</span>, <span class="st">"dutch_slc"</span>, <span class="st">"ebike_slc"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_shape.html" class="external-link">tm_shape</a></span><span class="op">(</span><span class="va">zones</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_polygons.html" class="external-link">tm_fill</a></span><span class="op">(</span><span class="va">scenarios_of_interest</span>, palette <span class="op">=</span> <span class="st">"RdYlBu"</span>, n <span class="op">=</span> <span class="fl">9</span>, title <span class="op">=</span> <span class="st">"N. cycling"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_facets.html" class="external-link">tm_facets</a></span><span class="op">(</span>nrow <span class="op">=</span> <span class="fl">1</span>, free.scales <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_layout.html" class="external-link">tm_layout</a></span><span class="op">(</span>panel.labels <span class="op">=</span> <span class="va">scenarios_of_interest</span><span class="op">)</span></span></code></pre></div>
<p>That’s great, but it doesn’t answer the question of mode share.</p>
</div>
<div class="section level2">
<h2 id="cycling-mode-share">Cycling mode share<a class="anchor" aria-label="anchor" href="#cycling-mode-share"></a>
</h2>
<p>We can calculate this by dividing the number of people cycling to
work by the total:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">zones_mode_share</span> <span class="op">=</span> <span class="va">zones</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">scenarios_of_interest</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate_all.html" class="external-link">mutate_at</a></span><span class="op">(</span><span class="va">scenarios_of_interest</span>, .funs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">~</span> <span class="va">.</span><span class="op">/</span><span class="va">zones</span><span class="op">$</span><span class="va">all</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_shape.html" class="external-link">tm_shape</a></span><span class="op">(</span><span class="va">zones_mode_share</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_polygons.html" class="external-link">tm_fill</a></span><span class="op">(</span><span class="va">scenarios_of_interest</span>, palette <span class="op">=</span> <span class="st">"RdYlBu"</span>, title <span class="op">=</span> <span class="st">"% cycling"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_facets.html" class="external-link">tm_facets</a></span><span class="op">(</span>nrow <span class="op">=</span> <span class="fl">1</span>, free.scales <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_layout.html" class="external-link">tm_layout</a></span><span class="op">(</span>panel.labels <span class="op">=</span> <span class="va">scenarios_of_interest</span><span class="op">)</span></span></code></pre></div>
<p>The summary mode shares can be estimated as follows, with results
showing the % cycling currently (according to the 2011 census) and under
scenarios of change:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">zones_region</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_drop_geometry</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">lad_name</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span>`2011 census` <span class="op">=</span> <span class="va">bicycle</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">scenarios_of_interest</span>, <span class="st">"all"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise_all.html" class="external-link">summarise_all</a></span><span class="op">(</span>.funs <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">all</span><span class="op">)</span><span class="op">*</span> <span class="fl">100</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">all</span>, `Local Authority / % Cycling in scenario:` <span class="op">=</span> <span class="va">lad_name</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<!-- # Cycling routes -->
<!-- We can get cycling routes for the area of interest as follows... -->
</div>
<div class="section level2">
<h2 id="cycling-potential-nationwide">Cycling potential nationwide<a class="anchor" aria-label="anchor" href="#cycling-potential-nationwide"></a>
</h2>
<p>To generalise the analysis outlined above, we can download national
data from the PCT project as follows:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">zones_national</span> <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">read_sf</a></span><span class="op">(</span><span class="st">"https://github.com/npct/pct-outputs-national/raw/master/commute/msoa/z_all.geojson"</span><span class="op">)</span></span></code></pre></div>
<p>A summary of cycling potential nationwide can then be calculated as
follows:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">national_commute_totals</span> <span class="op">=</span> <span class="va">zones_national</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_drop_geometry</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">all</span>, census_2011 <span class="op">=</span> <span class="va">bicycle</span>, <span class="va">govtarget_slc</span>, <span class="va">dutch_slc</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise_all.html" class="external-link">summarise_all</a></span><span class="op">(</span>.funs <span class="op">=</span> <span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">national_commute_percentages</span> <span class="op">=</span> <span class="va">national_commute_totals</span> <span class="op">/</span> <span class="va">national_commute_totals</span><span class="op">$</span><span class="va">all</span> <span class="op">*</span> <span class="fl">100</span></span></code></pre></div>
<p>We can calculate the mode share of cycling under these same scenarios
for any area (e.g. the boundary of Greater London) or for a list of
named local authorities, as follows:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span>stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span>, text <span class="op">=</span> <span class="st">"area</span></span>
<span><span class="st">Greater London</span></span>
<span><span class="st">Greater Manchester</span></span>
<span><span class="st">Birmingham</span></span>
<span><span class="st">Leeds</span></span>
<span><span class="st">Glasgow</span></span>
<span><span class="st">Liverpool</span></span>
<span><span class="st">Newcastle</span></span>
<span><span class="st">Bristol</span></span>
<span><span class="st">Cardiff</span></span>
<span><span class="st">Belfast</span></span>
<span><span class="st">Southampton</span></span>
<span><span class="st">Sheffield</span></span>
<span><span class="st">"</span><span class="op">)</span></span>
<span><span class="va">matching_las</span> <span class="op">=</span> <span class="va">pct_regions_lookup</span><span class="op">$</span><span class="va">lad16nm</span><span class="op">[</span><span class="va">pct_regions_lookup</span><span class="op">$</span><span class="va">lad16nm</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">r</span><span class="op">$</span><span class="va">area</span><span class="op">]</span></span>
<span><span class="va">matching_regions</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"london"</span>, <span class="st">"greater-manchester"</span><span class="op">)</span></span>
<span><span class="va">pct_lookup</span> <span class="op">=</span> <span class="va">pct_regions_lookup</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>lad_name <span class="op">=</span> <span class="va">lad16nm</span><span class="op">)</span></span>
<span><span class="va">zones_national</span> <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">inner_join</a></span><span class="op">(</span><span class="va">zones_national</span>, <span class="va">pct_lookup</span><span class="op">)</span></span>
<span><span class="va">zones_national</span> <span class="op">=</span> <span class="va">zones_national</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>area <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>    <span class="va">region_name</span> <span class="op">==</span> <span class="st">"london"</span> <span class="op">~</span> <span class="st">"Greater London"</span>,</span>
<span>    <span class="va">region_name</span> <span class="op">==</span> <span class="st">"greater-manchester"</span> <span class="op">~</span> <span class="st">"Greater Manchester"</span>,</span>
<span>    <span class="va">lad_name</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">matching_las</span> <span class="op">~</span> <span class="va">lad_name</span>,</span>
<span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"Other"</span></span>
<span>    <span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">zones_national</span><span class="op">$</span><span class="va">area</span><span class="op">)</span></span>
<span><span class="va">zones_aggregated</span> <span class="op">=</span> <span class="va">zones_national</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_drop_geometry</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">area</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>    Commuters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">all</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    Bicycle_census <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">bicycle</span><span class="op">)</span>,</span>
<span>    Bicycle_govtarget <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">govtarget_slc</span><span class="op">)</span>,</span>
<span>    Bicycle_godutch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">dutch_slc</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="co"># plot(zones_aggregated["Commuters"], border = NA)</span></span>
<span><span class="va">zones_aggregated</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">inner_join</a></span><span class="op">(</span><span class="va">r</span>, <span class="va">.</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<p>Next we can calculate the mode splits as follows:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">zones_aggregated_percents</span> <span class="op">=</span> <span class="va">zones_aggregated</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate_all.html" class="external-link">mutate_at</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="op">-</span><span class="va">Commuters</span>, <span class="op">-</span><span class="va">area</span><span class="op">)</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/funs.html" class="external-link">funs</a></span><span class="op">(</span><span class="va">.</span><span class="op">/</span><span class="va">Commuters</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">zones_aggregated_percents</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">zones_aggregated_percents</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, <span class="st">"_percent"</span><span class="op">)</span></span>
<span><span class="va">zones_aggregated_percents</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">inner_join</a></span><span class="op">(</span><span class="va">r</span>, <span class="va">.</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="considerations">Considerations<a class="anchor" aria-label="anchor" href="#considerations"></a>
</h2>
<p>The results above show that there is huge potential for cycling grow
across England and Wales. Around 16% of commuters in Leeds could cycle
to work if we ‘Go Dutch’ (25% if we Go Dutch and see high uptake of
electric bikes) for the single mode journey to work data under
consideration. However, there are some wider considerations that are not
captured in the numbers (see the <a href="https://www.jtlu.org/index.php/jtlu/article/view/862" class="external-link">PCT
paper</a> for details and other considerations):</p>
<ul>
<li>The PCT commute layer (don’t forget the travel to schools layer!)
only considers single stage journeys - if we were to include cycling to
the station or bus stop potential it would be greater than 16%, perhaps
more like 30% if potential cycle/rail and cycle/bus trips are accounted
for.</li>
<li>Work patterns are changing, and with new digital work practices or a
shift towards local economies, more people could work from home or at
least near to home.</li>
<li>The scenarios are snapshots of how cycling levels could change based
current trip patterns, not predictions of what will happen. There are
many other scenarios that could be developed, including intermediate
scenarios between Go Dutch and the Government Target, and more ambitious
scenarios, e.g. ‘Go Utrecht’, where cycling has reached around 60% of
trips (<a href="https://www.bloomberg.com/news/articles/2019-07-05/how-the-dutch-made-utrecht-a-bicycle-first-city" class="external-link">source</a>).</li>
</ul>
<p>Other considerations that are often mentioned are hills and people
who are unable to cycle. In fact the PCT accounts for hills and, as the
example of Bristol shows, hilly cities can see rapid increases in
cycling. Regarding ability to cycle, it is a more inclusive mode than
driving, with 8 to 80 year-olds being able to cycle, and many more
people being able to afford a bike than a car (which, thanks to the
expense of buying, running and insuring the vehicle, is largely the mode
of choice of the wealthy). The PCT does not account for the fact that
some trips to work are also ‘caregiving’ trips, but with electric cargo
bikes and <a href="https://en.wikipedia.org/wiki/Cycle_rickshaw" class="external-link">multi-person
cycles</a> cycling-focused cities can, to a greater extent than
car-dominated transport systems, deliver for all.</p>
<div class="section level3">
<h3 id="challenge">Challenge<a class="anchor" aria-label="anchor" href="#challenge"></a>
</h3>
<p>To anyone interested in cycling in your city: try re-running the
reproducible code above for your PCT region and local authority. Let us
know on social media and <a href="https://github.com/ITSLeeds/pct/issues" class="external-link">GitHub</a> how you get on.
Any comments/contributions to this analysis: <a href="https://github.com/ITSLeeds/pct/edit/master/vignettes/cycling-potential-uk.Rmd" class="external-link">welcome.</a></p>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr>
<ol>
<li id="fn1"><p> See
<code>https://twitter.com/PaulChatterton9/status/1190925153322098690</code>
for the original tweet.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Robin Lovelace, Layik Hama.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>

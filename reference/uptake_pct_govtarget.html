<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Calculate cycling uptake for UK 'Government Target' scenario — uptake_pct_govtarget • pct</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate cycling uptake for UK 'Government Target' scenario — uptake_pct_govtarget"><meta property="og:description" content='Uptake model that takes distance and hilliness and returns
a percentage of trips that could be made by cycling along a desire line
under scenarios of change. Source: appendix of pct paper, hosted at:
www.jtlu.org
which states that: "To  estimate  cycling  potential,the  Propensity  to  Cycle  Tool  (PCT)  was
designed  to  use  the  best available  geographically  disaggregated
data  sources  on  travel  patterns."'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pct</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.9.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/pct.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/cycling-potential-uk.html">Cycling potential in UK cities</a>
    </li>
    <li>
      <a href="../articles/km-cycled.html">Estimating distance cycled per zone in England and Wales regions</a>
    </li>
    <li>
      <a href="../articles/pct-international.html">International application of the PCT methods</a>
    </li>
    <li>
      <a href="../articles/uk-cities.html">Reproducing cycling potential estimates in UK cities</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ITSLeeds/pct/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate cycling uptake for UK 'Government Target' scenario</h1>
    <small class="dont-index">Source: <a href="https://github.com/ITSLeeds/pct/blob/HEAD/R/uptake.R" class="external-link"><code>R/uptake.R</code></a></small>
    <div class="hidden name"><code>uptake_pct_govtarget.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Uptake model that takes distance and hilliness and returns
a percentage of trips that could be made by cycling along a desire line
under scenarios of change. Source: appendix of pct paper, hosted at:
<a href="https://www.jtlu.org/index.php/jtlu/article/download/862/1381/4359" class="external-link">www.jtlu.org</a>
which states that: "To  estimate  cycling  potential,the  Propensity  to  Cycle  Tool  (PCT)  was
designed  to  use  the  best available  geographically  disaggregated
data  sources  on  travel  patterns."</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">uptake_pct_govtarget</span><span class="op">(</span></span>
<span>  <span class="va">distance</span>,</span>
<span>  <span class="va">gradient</span>,</span>
<span>  alpha <span class="op">=</span> <span class="op">-</span><span class="fl">3.959</span>,</span>
<span>  d1 <span class="op">=</span> <span class="op">-</span><span class="fl">0.5963</span>,</span>
<span>  d2 <span class="op">=</span> <span class="fl">1.866</span>,</span>
<span>  d3 <span class="op">=</span> <span class="fl">0.00805</span>,</span>
<span>  h1 <span class="op">=</span> <span class="op">-</span><span class="fl">0.271</span>,</span>
<span>  i1 <span class="op">=</span> <span class="fl">0.009394</span>,</span>
<span>  i2 <span class="op">=</span> <span class="op">-</span><span class="fl">0.05135</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">uptake_pct_govtarget_2020</span><span class="op">(</span></span>
<span>  <span class="va">distance</span>,</span>
<span>  <span class="va">gradient</span>,</span>
<span>  alpha <span class="op">=</span> <span class="op">-</span><span class="fl">4.018</span>,</span>
<span>  d1 <span class="op">=</span> <span class="op">-</span><span class="fl">0.6369</span>,</span>
<span>  d2 <span class="op">=</span> <span class="fl">1.988</span>,</span>
<span>  d3 <span class="op">=</span> <span class="fl">0.008775</span>,</span>
<span>  h1 <span class="op">=</span> <span class="op">-</span><span class="fl">0.2555</span>,</span>
<span>  h2 <span class="op">=</span> <span class="op">-</span><span class="fl">0.78</span>,</span>
<span>  i1 <span class="op">=</span> <span class="fl">0.02006</span>,</span>
<span>  i2 <span class="op">=</span> <span class="op">-</span><span class="fl">0.1234</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">uptake_pct_godutch_2020</span><span class="op">(</span></span>
<span>  <span class="va">distance</span>,</span>
<span>  <span class="va">gradient</span>,</span>
<span>  alpha <span class="op">=</span> <span class="op">-</span><span class="fl">4.018</span> <span class="op">+</span> <span class="fl">2.55</span>,</span>
<span>  d1 <span class="op">=</span> <span class="op">-</span><span class="fl">0.6369</span> <span class="op">-</span> <span class="fl">0.08036</span>,</span>
<span>  d2 <span class="op">=</span> <span class="fl">1.988</span>,</span>
<span>  d3 <span class="op">=</span> <span class="fl">0.008775</span>,</span>
<span>  h1 <span class="op">=</span> <span class="op">-</span><span class="fl">0.2555</span>,</span>
<span>  h2 <span class="op">=</span> <span class="op">-</span><span class="fl">0.78</span>,</span>
<span>  i1 <span class="op">=</span> <span class="fl">0.02006</span>,</span>
<span>  i2 <span class="op">=</span> <span class="op">-</span><span class="fl">0.1234</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">uptake_pct_ebike_2020</span><span class="op">(</span></span>
<span>  <span class="va">distance</span>,</span>
<span>  <span class="va">gradient</span>,</span>
<span>  alpha <span class="op">=</span> <span class="op">-</span><span class="fl">4.018</span> <span class="op">+</span> <span class="fl">2.55</span>,</span>
<span>  d1 <span class="op">=</span> <span class="op">-</span><span class="fl">0.6369</span> <span class="op">-</span> <span class="fl">0.08036</span> <span class="op">+</span> <span class="fl">0.05509</span>,</span>
<span>  d2 <span class="op">=</span> <span class="fl">1.988</span>,</span>
<span>  d3 <span class="op">=</span> <span class="fl">0.008775</span> <span class="op">-</span> <span class="fl">0.000295</span>,</span>
<span>  h1 <span class="op">=</span> <span class="op">-</span><span class="fl">0.2555</span> <span class="op">+</span> <span class="fl">0.1812</span>,</span>
<span>  h2 <span class="op">=</span> <span class="op">-</span><span class="fl">0.78</span>,</span>
<span>  i1 <span class="op">=</span> <span class="fl">0.02006</span>,</span>
<span>  i2 <span class="op">=</span> <span class="op">-</span><span class="fl">0.1234</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">uptake_pct_govtarget_school2</span><span class="op">(</span></span>
<span>  <span class="va">distance</span>,</span>
<span>  <span class="va">gradient</span>,</span>
<span>  alpha <span class="op">=</span> <span class="op">-</span><span class="fl">7.178</span>,</span>
<span>  d1 <span class="op">=</span> <span class="op">-</span><span class="fl">1.87</span>,</span>
<span>  d2 <span class="op">=</span> <span class="fl">5.961</span>,</span>
<span>  h1 <span class="op">=</span> <span class="op">-</span><span class="fl">0.529</span>,</span>
<span>  h2 <span class="op">=</span> <span class="op">-</span><span class="fl">0.63</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">uptake_pct_godutch_school2</span><span class="op">(</span></span>
<span>  <span class="va">distance</span>,</span>
<span>  <span class="va">gradient</span>,</span>
<span>  alpha <span class="op">=</span> <span class="op">-</span><span class="fl">7.178</span> <span class="op">+</span> <span class="fl">3.574</span>,</span>
<span>  d1 <span class="op">=</span> <span class="op">-</span><span class="fl">1.87</span> <span class="op">+</span> <span class="fl">0.3438</span>,</span>
<span>  d2 <span class="op">=</span> <span class="fl">5.961</span>,</span>
<span>  h1 <span class="op">=</span> <span class="op">-</span><span class="fl">0.529</span>,</span>
<span>  h2 <span class="op">=</span> <span class="op">-</span><span class="fl">0.63</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>distance</dt>
<dd><p>Vector distance numeric values of routes in km
(switches to km if more than 100).</p></dd>


<dt>gradient</dt>
<dd><p>Vector gradient numeric values of routes.</p></dd>


<dt>alpha</dt>
<dd><p>The intercept</p></dd>


<dt>d1</dt>
<dd><p>Distance term 1</p></dd>


<dt>d2</dt>
<dd><p>Distance term 2</p></dd>


<dt>d3</dt>
<dd><p>Distance term 3</p></dd>


<dt>h1</dt>
<dd><p>Hilliness term 1</p></dd>


<dt>i1</dt>
<dd><p>Distance-hilliness interaction term 1</p></dd>


<dt>i2</dt>
<dd><p>Distance-hilliness interaction term 2</p></dd>


<dt>verbose</dt>
<dd><p>Print messages? <code>FALSE</code> by default.</p></dd>


<dt>h2</dt>
<dd><p>Hilliness term 2</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The functional form of the cycling uptake model used in the PCT is as follows:
(Source: <a href="https://npct.github.io/pct-shiny/regions_www/www/static/03a_manual/pct-bike-eng-user-manual-c1.pdf" class="external-link">npct.github.io</a>)</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">logit</span> (pcycle) <span class="ot">=</span> <span class="sc">-</span><span class="fl">3.959</span> <span class="sc">+</span>   <span class="co"># alpha</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  (<span class="sc">-</span><span class="fl">0.5963</span> <span class="sc">*</span> distance) <span class="sc">+</span>    <span class="co"># d1</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  (<span class="fl">1.866</span> <span class="sc">*</span> distancesqrt) <span class="sc">+</span>  <span class="co"># d2</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  (<span class="fl">0.008050</span> <span class="sc">*</span> distancesq) <span class="sc">+</span> <span class="co"># d3</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  (<span class="sc">-</span><span class="fl">0.2710</span> <span class="sc">*</span> gradient) <span class="sc">+</span>    <span class="co"># h1</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  (<span class="fl">0.009394</span> <span class="sc">*</span> distance <span class="sc">*</span> gradient) <span class="sc">+</span>  <span class="co"># i1</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  (<span class="sc">-</span><span class="fl">0.05135</span> <span class="sc">*</span> distancesqrt <span class="sc">*</span>gradient) <span class="co"># i2</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>pcycle <span class="ot">=</span> <span class="fu">exp</span> ([<span class="fu">logit</span> (pcycle)]) <span class="sc">/</span> (<span class="dv">1</span> <span class="sc">+</span> (<span class="fu">exp</span>([<span class="fu">logit</span>(pcycle)])</span></code></pre><p></p></div>
<p><code>uptake_pct_govtarget_2020()</code> and
<code>uptake_pct_godutch_2020()</code>
approximate the uptake models used in the updated 2020 release of
the PCT results.</p>
<p>If the <code>distance</code> parameter is greater than 100, it is assumed that it is in m.
If for some reason you want to model cycling uptake associated with trips with
distances of less than 100 m, convert the distances to km first.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">distance</span> <span class="op">=</span> <span class="fl">15</span></span></span>
<span class="r-in"><span><span class="va">gradient</span> <span class="op">=</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="va">logit_pcycle</span> <span class="op">=</span> <span class="op">-</span><span class="fl">3.959</span> <span class="op">+</span> <span class="co"># alpha</span></span></span>
<span class="r-in"><span>  <span class="op">(</span><span class="op">-</span><span class="fl">0.5963</span> <span class="op">*</span> <span class="va">distance</span><span class="op">)</span> <span class="op">+</span> <span class="co"># d1</span></span></span>
<span class="r-in"><span>  <span class="op">(</span><span class="fl">1.866</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">distance</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co"># d2</span></span></span>
<span class="r-in"><span>  <span class="op">(</span><span class="fl">0.008050</span> <span class="op">*</span> <span class="va">distance</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="co"># d3</span></span></span>
<span class="r-in"><span>  <span class="op">(</span><span class="op">-</span><span class="fl">0.2710</span> <span class="op">*</span> <span class="va">gradient</span><span class="op">)</span> <span class="op">+</span> <span class="co"># h1</span></span></span>
<span class="r-in"><span>  <span class="op">(</span><span class="fl">0.009394</span> <span class="op">*</span> <span class="va">distance</span> <span class="op">*</span> <span class="va">gradient</span><span class="op">)</span> <span class="op">+</span> <span class="co"># i1</span></span></span>
<span class="r-in"><span>  <span class="op">(</span><span class="op">-</span><span class="fl">0.05135</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">distance</span><span class="op">)</span> <span class="op">*</span> <span class="va">gradient</span><span class="op">)</span> <span class="co"># i2</span></span></span>
<span class="r-in"><span><span class="fu">boot</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/boot/man/inv.logit.html" class="external-link">inv.logit</a></span><span class="op">(</span><span class="va">logit_pcycle</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.0107377</span>
<span class="r-in"><span><span class="fu">uptake_pct_govtarget</span><span class="op">(</span><span class="fl">15</span>, <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.0107377</span>
<span class="r-in"><span><span class="va">l</span> <span class="op">=</span> <span class="va">routes_fast_leeds</span></span></span>
<span class="r-in"><span><span class="va">pcycle_scenario</span> <span class="op">=</span> <span class="fu">uptake_pct_govtarget</span><span class="op">(</span><span class="va">l</span><span class="op">$</span><span class="va">length</span>, <span class="va">l</span><span class="op">$</span><span class="va">av_incline</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pcycle_scenario_2020</span> <span class="op">=</span> <span class="fu">uptake_pct_govtarget_2020</span><span class="op">(</span><span class="va">l</span><span class="op">$</span><span class="va">length</span>, <span class="va">l</span><span class="op">$</span><span class="va">av_incline</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">l</span><span class="op">$</span><span class="va">length</span>, <span class="va">pcycle_scenario</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="va">l</span><span class="op">$</span><span class="va">length</span>, <span class="va">pcycle_scenario_2020</span>, col <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="uptake_pct_govtarget-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># compare with published PCT data:</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">l_pct_2020</span> <span class="op">=</span> <span class="fu"><a href="get_pct_lines.html">get_pct_lines</a></span><span class="op">(</span>region <span class="op">=</span> <span class="st">"isle-of-wight"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># test for another region:</span></span></span>
<span class="r-in"><span><span class="co"># l_pct_2020 = get_pct_lines(region = "west-yorkshire")</span></span></span>
<span class="r-in"><span><span class="va">l_pct_2020</span><span class="op">$</span><span class="va">rf_avslope_perc</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">l_pct_2020</span><span class="op">$</span><span class="va">rf_dist_km</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">govtarget_slc</span> <span class="op">=</span> <span class="fu">uptake_pct_govtarget</span><span class="op">(</span></span></span>
<span class="r-in"><span>  distance <span class="op">=</span> <span class="va">l_pct_2020</span><span class="op">$</span><span class="va">rf_dist_km</span>,</span></span>
<span class="r-in"><span>  gradient <span class="op">=</span> <span class="va">l_pct_2020</span><span class="op">$</span><span class="va">rf_avslope_perc</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">*</span> <span class="va">l_pct_2020</span><span class="op">$</span><span class="va">all</span> <span class="op">+</span> <span class="va">l_pct_2020</span><span class="op">$</span><span class="va">bicycle</span></span></span>
<span class="r-in"><span><span class="va">govtarget_slc_2020</span> <span class="op">=</span> <span class="fu">uptake_pct_govtarget_2020</span><span class="op">(</span></span></span>
<span class="r-in"><span>  distance <span class="op">=</span> <span class="va">l_pct_2020</span><span class="op">$</span><span class="va">rf_dist_km</span>,</span></span>
<span class="r-in"><span>  gradient <span class="op">=</span> <span class="va">l_pct_2020</span><span class="op">$</span><span class="va">rf_avslope_perc</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">*</span> <span class="va">l_pct_2020</span><span class="op">$</span><span class="va">all</span> <span class="op">+</span> <span class="va">l_pct_2020</span><span class="op">$</span><span class="va">bicycle</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">l_pct_2020</span><span class="op">$</span><span class="va">govtarget_slc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">govtarget_slc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">govtarget_slc_2020</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">godutch_slc</span> <span class="op">=</span> <span class="fu"><a href="uptake_pct_godutch.html">uptake_pct_godutch</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  distance <span class="op">=</span> <span class="va">l_pct_2020</span><span class="op">$</span><span class="va">rf_dist_km</span>,</span></span>
<span class="r-in"><span>  gradient <span class="op">=</span> <span class="va">l_pct_2020</span><span class="op">$</span><span class="va">rf_avslope_perc</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">*</span> <span class="va">l_pct_2020</span><span class="op">$</span><span class="va">all</span> <span class="op">+</span> <span class="va">l_pct_2020</span><span class="op">$</span><span class="va">bicycle</span></span></span>
<span class="r-in"><span><span class="va">godutch_slc_2020</span> <span class="op">=</span> <span class="fu">uptake_pct_godutch_2020</span><span class="op">(</span></span></span>
<span class="r-in"><span>  distance <span class="op">=</span> <span class="va">l_pct_2020</span><span class="op">$</span><span class="va">rf_dist_km</span>,</span></span>
<span class="r-in"><span>  gradient <span class="op">=</span> <span class="va">l_pct_2020</span><span class="op">$</span><span class="va">rf_avslope_perc</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">*</span> <span class="va">l_pct_2020</span><span class="op">$</span><span class="va">all</span> <span class="op">+</span> <span class="va">l_pct_2020</span><span class="op">$</span><span class="va">bicycle</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">l_pct_2020</span><span class="op">$</span><span class="va">dutch_slc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">godutch_slc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">godutch_slc_2020</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="co"># Take an origin destination (OD) pair between an LSOA centroid and a</span></span></span>
<span class="r-in"><span><span class="co"># secondary school. In this OD pair, 30 secondary school children travel, of</span></span></span>
<span class="r-in"><span><span class="co"># whom 3 currently cycle. The fastest route distance is 3.51 km and the</span></span></span>
<span class="r-in"><span><span class="co"># gradient is 1.11%. The</span></span></span>
<span class="r-in"><span><span class="co"># gradient as centred on Dutch hilliness levels is 1.11 – 0.63 = 0.48%.</span></span></span>
<span class="r-in"><span><span class="co"># The observed number of cyclists is 2. ... Modelled baseline= 30 * .0558 = 1.8.</span></span></span>
<span class="r-in"><span><span class="fu">uptake_pct_govtarget_school2</span><span class="op">(</span><span class="fl">3.51</span>, <span class="fl">1.11</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.05584607</span>
<span class="r-in"><span><span class="co"># pcycle = exp ([logit (pcycle)])/(1 + (exp([logit(pcycle)]))).</span></span></span>
<span class="r-in"><span><span class="co"># pcycle = exp(1.953)/(1 + exp(1.953)) = .8758, or 87.58%.</span></span></span>
<span class="r-in"><span><span class="fu">uptake_pct_godutch_school2</span><span class="op">(</span><span class="fl">3.51</span>, <span class="fl">1.11</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.8757786</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Robin Lovelace, Layik Hama.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

